---
title: 'Markdown'
description: 'Choose your markdown ecosystem'
icon: 'text-size'
mode: 'wide'
---

A big part of SvelTeX's flexibility and extensibility comes from its support for
different markdown backends. The following popular parsers, all of which are
performant and extensible, have first-class support (listed in alphabetical
order):

-   [Markdown-it](https://github.com/markdown-it/markdown-it): "Markdown parser,
    done right." 100% CommonMark support.
-   [Marked](https://github.com/markedjs/marked): Starting in 2011, this is the
    oldest and, at least by some metrics, the most widely used markdown parser
    of the four.
-   [Micromark](https://github.com/micromark/micromark): "The smallest
    CommonMark compliant markdown parser."
-   [Unified](https://github.com/unifiedjs/unified): Ecosystem of plugins that
    work with markdown as abstract syntax trees (ASTs). Has a large ecosystem of
    plugins via [remark](https://github.com/remarkjs/remark) and
    [rehype](https://github.com/rehypejs/rehype).

Additionally, you can also provide a **custom** markdown backend.

### Backend-specific setup

<Tabs>
<Tab title="Markdown-it">
<Steps>
    <Step title="Install the necessary dependencies">
    <CodeGroup>
        ```bash pnpm
        pnpm add -D markdown-it
        ```
        ```bash bun
        bun add -D markdown-it
        ```
        ```bash npm
        npm add -D markdown-it
        ```
        ```bash yarn
        yarn add -D markdown-it
        ```
    </CodeGroup>
    </Step>
    <Step title="Tell Sveltex to use Markdown-it and customize away!" >
        ```js sveltex.config.js
        import { sveltex } from '@nvl/sveltex';
        // import multimdTablePlugin from 'markdown-it-multimd-table';

        export const sveltexPreprocessor = await sveltex({
            markdownBackend: 'markdown-it',
        });

        await sveltexPreprocessor.configure({
            markdown: {
                options: {
                    html: false,
                    xhtmlOut: false,
                    breaks: false,
                    linkify: false,
                    typographer: false,
                    quotes: '“”‘’',
                },
                extensions: [
                    // [
                    //     multimdTablePlugin,
                    //     {
                    //         multiline: false,
                    //         rowspan: false,
                    //         headerless: false,
                    //         multibody: true,
                    //         autolabel: true,
                    //     },
                    // ],
                ],
            },
        });
        ```
    </Step>

</Steps>
</Tab>
<Tab title="Marked">
<Steps>
    <Step title="Install the necessary dependencies">
    <CodeGroup>
        ```bash pnpm
        pnpm add -D marked
        ```
        ```bash bun
        bun add -D marked
        ```
        ```bash npm
        npm add -D marked
        ```
        ```bash yarn
        yarn add -D marked
        ```
    </CodeGroup>
    </Step>
    <Step title="Tell SvelTeX to use Marked" >
        ```js sveltex.config.js
        import { sveltex } from '@nvl/sveltex';
        // import { gfmHeadingId } from 'marked-gfm-heading-id';

        export const sveltexPreprocessor = await sveltex({
            markdownBackend: 'marked',
        });

        await sveltexPreprocessor.configure({
            markdown: {
                options: {
                    async: false,
                    breaks: true,
                    gfm: true,
                    pedantic: false,
                    silent: false,
                },
                extensions: [
                    // gfmHeadingId()
                ],
            },
        });
        ```
    </Step>

</Steps>
</Tab>
<Tab title="Micromark">
<Steps>
    <Step title="Install the necessary dependencies">
    <CodeGroup>
        ```bash pnpm
        pnpm add -D micromark
        ```
        ```bash bun
        bun add -D micromark
        ```
        ```bash npm
        npm add -D micromark
        ```
        ```bash yarn
        yarn add -D micromark
        ```
    </CodeGroup>
    </Step>
    <Step title="Tell SvelTeX to use Micromark" >
        ```js sveltex.config.js
        import { sveltex } from '@nvl/sveltex';

        export const sveltexPreprocessor = await sveltex({
            'micromark',
        });

        await sveltexPreprocessor.configure({
            markdown: {
                options: {
                    gfm: true,
                },
                extensions: [],
            },
        });
        ```
    </Step>

</Steps>
</Tab>
<Tab title="Unified">
<Steps>
    <Step title="Install the necessary dependencies">
    <CodeGroup>
        ```bash pnpm
        pnpm add -D unified remark-parse remark-rehype rehype-stringify
        ```
        ```bash bun
        bun add -D unified remark-parse remark-rehype rehype-stringify
        ```
        ```bash npm
        npm add -D unified remark-parse remark-rehype rehype-stringify
        ```
        ```bash yarn
        yarn add -D unified remark-parse remark-rehype rehype-stringify
        ```
    </CodeGroup>
    </Step>
    <Step title="Tell SvelTeX to use Unified" >
        ```js sveltex.config.js
        import { sveltex } from '@nvl/sveltex';

        export const sveltexPreprocessor = await sveltex(
            'unified', // Markdown backend
            'none', // Code backend (syntax highlighting)
            'none', // TeX backend
            'none', // Advanced TeX backend
        );

        await sveltexPreprocessor.configure({
            markdown: {
                options: {
                    gfm: true,
                },
                extensions: [],
            },
        });
        ```
    </Step>

</Steps>
</Tab>
<Tab title="Custom">
By way of example, here is how you might set up a custom markdown backend to use
[Marked](https://github.com/markedjs/marked) if it weren't already supported:

```js sveltex.config.js
import { sveltex, MarkdownHandler } from '@nvl/sveltex';
import { Marked } from 'marked';

export const sveltexPreprocessor = await sveltex({
    markdownBackend: 'custom',
});

sveltexPreprocessor.markdownHandler = await MarkdownHandler.create(
    'custom',
    {
        configuration: { extensions: [], options: {} },
        processor: new Marked(),
        configure: (config, markdownHandler) => {
            if (config.options) {
                markdownHandler.processor.setOptions(config.options);
            }
            if (config.extensions) {
                markdownHandler.processor.use(...config.extensions);
            }
            // Before calling the `configure` function you provide, the
            // MarkdownHandler class will always do the following:
            //     markdownHandler.configuration =
            //         mergeConfigs(markdownHandler.configuration, config);
        },
        process: (markdown: string, inline: boolean, markdownHandler) => {
            return inline
                ? await markdownHandler.processor.parseInline(markdown)
                : await markdownHandler.processor.parse(markdown);
        },
    }
)
```

</Tab>
</Tabs>
